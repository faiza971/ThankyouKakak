<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Perpisahan dewan</title>

<style>
  body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #001f3f 0%, #004080 30%, #0074D9 60%, #7FDBFF 100%);
    background-size: 200% 200%;
    animation: gradientShift 8s ease infinite;
  }

  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .pin-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: rgba(255,255,255,0.1);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 0 25px rgba(255,255,255,0.3);
    text-align: center;
    color: white;
    backdrop-filter: blur(8px);
    animation: fadeIn 1.5s ease;
    z-index: 20;
  }

  .pin-container h2 {
    margin-bottom: 20px;
    font-family: 'Segoe Script', cursive;
  }

  input[type="password"] {
    padding: 10px 20px;
    font-size: 18px;
    border-radius: 10px;
    border: none;
    outline: none;
    text-align: center;
  }

  button {
    margin-top: 15px;
    padding: 10px 25px;
    font-size: 16px;
    border: none;
    border-radius: 10px;
    background: #00bfff;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
  }

  button:hover {
    background: #0099cc;
  }

  .error {
    margin-top: 10px;
    color: #ff9999;
    font-size: 14px;
    height: 20px;
  }

  @keyframes fadeIn {
    from {opacity: 0; transform: scale(0.9);}
    to {opacity: 1; transform: scale(1);}
  }

  .typing {
    position: absolute;
    top: 10%;
    width: 85%;
    max-width: 900px;
    color: #e0f2fe;
    font-family: 'Segoe Script', cursive;
    font-weight: bold;
    font-size: 20px;
    text-align: center;
    white-space: pre-line;
    line-height: 1.8;
    text-shadow: 0 0 10px rgba(147, 197, 253, 0.9);
    opacity: 1;
    transition: opacity 2s ease;
    display: none;
    z-index: 10;
  }

  .slideshow {
    display: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80%;
    height: 70%;
    justify-content: center;
    align-items: center;
    z-index: 5;
  }

  .slideshow img {
    position: absolute;
    width: auto;
    max-width: 70%;
    max-height: 80%;
    object-fit: contain;
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(255, 255, 255, 0.7);
    opacity: 0;
    transition: opacity 1.8s ease;
  }

  .bird {
    position: absolute;
    bottom: 45%;
    left: -150px;
    width: 120px;
    opacity: 0;
    z-index: 15;
  }

  @keyframes flyAcross {
    0% { left: -150px; bottom: 40%; opacity: 0; transform: scale(1) rotate(0deg); }
    10% { opacity: 1; }
    50% { left: 50%; bottom: 50%; transform: scale(1.1) rotate(5deg); }
    100% { left: 110%; bottom: 60%; opacity: 0; transform: scale(1.2) rotate(-5deg); }
  }

  .see-you {
    position: absolute;
    bottom: 45%;
    left: 120%;
    font-family: 'Segoe Script', cursive;
    font-size: 42px;
    color: #fff;
    text-shadow: 0 0 20px #fff, 0 0 40px #00bfff, 0 0 60px #80dfff;
    opacity: 0;
    white-space: nowrap;
    z-index: 15;
  }

  @keyframes slideInCenter {
    0% { left: 120%; opacity: 0; transform: scale(0.9); }
    50% { left: 50%; opacity: 1; transform: translateX(-50%) scale(1.05); }
    100% { left: 50%; transform: translateX(-50%) scale(1); opacity: 1; }
  }

  @keyframes glowPulse {
    0%, 100% {
      text-shadow: 0 0 20px #fff, 0 0 40px #00bfff, 0 0 80px #80dfff;
      transform: scale(1);
    }
    50% {
      text-shadow: 0 0 40px #fff, 0 0 80px #00ffff, 0 0 120px #80ffff;
      transform: scale(1.1);
    }
  }

  @keyframes fadeOutText {
    from { opacity: 1; }
    to { opacity: 0; }
  }

  @keyframes waveHand {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(15deg); }
    50% { transform: rotate(-15deg); }
    75% { transform: rotate(10deg); }
  }

  @keyframes fadeInWave {
    from { opacity: 0; transform: scale(0.5) rotate(-30deg); }
    to { opacity: 1; transform: scale(1) rotate(0deg); }
  }
</style>
</head>

<body>

<!-- ====== MUSIC PLAYER (YouTube) ====== -->
<iframe id="bgMusic" src="https://www.youtube.com/embed/jo-JkKpjmwY?enablejsapi=1&loop=1&playlist=jo-JkKpjmwY" style="display:none" frameborder="0" allow="autoplay; encrypted-media"></iframe>

<script>
/*
 activateAudio:
 - Menggunakan YouTube Player API untuk memainkan video dengan suara setelah interaksi pengguna (klik tombol Masuk)
*/
let player;
function onYouTubeIframeAPIReady() {
  player = new YT.Player('bgMusic', {
    events: {
      'onReady': onPlayerReady
    }
  });
}

function onPlayerReady(event) {
  // Player siap, tapi jangan play otomatis
}

function activateAudio() {
  if (player && typeof player.playVideo === 'function') {
    player.setVolume(50); // Sesuaikan volume (0-100)
    player.playVideo();
  } else {
    // Fallback jika player belum siap, coba lagi setelah 500ms
    setTimeout(activateAudio, 500);
  }
}

// Load YouTube API
const tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
const firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
</script>

<!-- ====== HALAMAN PIN ====== -->
<div class="pin-container" id="pinContainer">
  <h2>Aku punya sesuatu buat kalian<br>Masukkan pin nya '2025' ğŸ’</h2>
  <input type="password" id="pinInput" placeholder="****" maxlength="6">
  <button onclick="checkPin()">Masuk</button>
  <div class="error" id="errorMsg"></div>
</div>

<!-- ====== TEKS & SLIDESHOW ====== -->
<div class="typing" id="typingText"></div> 
<div class="slideshow" id="slideshow"> 
  <img src="gfty/f1.jpeg" alt="Foto 1">
  <img src="gfty/f2.jpeg" alt="Foto 2">
  <img src="gfty/f3.jpeg" alt="Foto 3">
  <img src="gfty/f4.jpeg" alt="Foto 4">
  <img src="gfty/f5.jpeg" alt="Foto 5">
  <img src="gfty/f6.jpeg" alt="Foto 6">
  <img src="gfty/f7.jpeg" alt="Foto 7">
  <img src="gfty/f8.jpeg" alt="Foto 8">
  <img src="gfty/f9.jpeg" alt="Foto 9">
  <img src="gfty/f10.jpeg" alt="Foto 10">
  <img src="gfty/f11.jpeg" alt="Foto 11">
  <img src="gfty/f12.jpeg" alt="Foto 12">
</div>

<img src="https://cdn-icons-png.flaticon.com/512/616/616490.png" class="bird" id="bird" alt="Burung Terbang">
<div class="see-you" id="seeYouText">SEE YOU KALIAN ğŸ’–</div>

<script>
// ===== PIN LOGIN =====
const correctPin = "2025";

function checkPin() {
  const input = document.getElementById("pinInput").value;
  const error = document.getElementById("errorMsg");

  if (input === correctPin) {
    // Aktifkan musik setelah PIN benar (klik tombol Masuk adalah interaksi pengguna)
    activateAudio();
    document.getElementById("pinContainer").style.display = "none";
    document.getElementById("typingText").style.display = "block";
    startAnimation();
  } else {
    error.textContent = "âŒ PIN salah, coba lagi!";
    // Hapus pesan setelah 2 detik
    setTimeout(()=> error.textContent = "", 2000);
  }
}

// ===== TEKS UCAPAN =====
function startAnimation() {
  const textPart1 = [
    "Waah, nggk kerasa yaa udah musyam ajaa ğŸ˜Š",
    "Padahal baru kemarin kita kita jadi calban ğŸ˜„",
    "Masa sih kita udah mau di tinggal purna kak ?? ğŸ˜¢",
    "Kakâ€¦ terima kasih sudah menjadi tempat kami bertanya, ğŸ˜Š",
    " bersandar, dan belajar selama ini. ğŸ¤",
    "Rasanya waktu berjalan terlalu cepat â³",
    "Dan tiba-tiba kami harus melepas Kakak untuk purna ğŸ˜”",
    "Setiap nasihat, senyuman, dan perhatian kecil dari Kakak ğŸ˜Š",
    "tidak akan kami lupakan dan akan selalu kami ingat. ğŸ’—"
  ];

  const textPart2 = [
    "Kakak bukan hanya dewan bagi kamiâ€¦ tapi kakak, sahabat, dan panutan yang tulus. ğŸŒ·âœ¨",
    "Selamat purna, Kak. Semoga langkah Kakak setelah ini selalu dipenuhi kebahagiaan ğŸ˜Šâœ¨",
    "kesempatan baik, dan orang-orang yang mendukung seperti Kakak mendukung kami. ğŸŒŸ",
    "Jangan lupa kami yaâ€¦ karena kami pasti kangen... ğŸ˜­ğŸ’—",
    "Terima kasih untuk semua kenangan indah yang Kakak titipkan. ğŸ¤âœ¨",
    "Semoga Allah selalu menjaga setiap perjalanan Kakak. ğŸ’—ğŸ™âœ¨",
    "Semangat dan sukses selalu kalian ğŸ’ğŸ˜Š",
    "ğŸ’– SEE YOU AGAIN KAKAK ğŸ‘‹ğŸ»ğŸ’"
  ];

  const textElement = document.getElementById("typingText");
  let lineIndex = 0, charIndex = 0;

  function typeEffect(lines, callback) {
    if (lineIndex < lines.length) {
      if (charIndex < lines[lineIndex].length) {
        textElement.innerHTML += lines[lineIndex].charAt(charIndex);
        charIndex++;
        setTimeout(() => typeEffect(lines, callback), 50);
      } else {
        textElement.innerHTML += "\n";
        lineIndex++;
        charIndex = 0;
        setTimeout(() => typeEffect(lines, callback), 400);
      }
    } else {
      setTimeout(() => fadeOutText(callback), 1500);
    }
  }

  function fadeOutText(callback) {
    textElement.style.opacity = "0";
    setTimeout(() => {
      textElement.innerHTML = "";
      textElement.style.opacity = "1";
      lineIndex = 0;
      charIndex = 0;
      callback();
    }, 2000);
  }

  setTimeout(() => {
    typeEffect(textPart1, () => {
      typeEffect(textPart2, () => {
        fadeOutText(showSlideshow);
      });
    });
  }, 1000);
}

// ===== SLIDESHOW =====
const slideshow = document.getElementById("slideshow");
const slides = Array.from(slideshow.querySelectorAll("img"));
let currentSlide = 0;
const delay = 3000;

function showSlideshow() {
  slideshow.style.display = "flex";
  showNextSlide();
}

function showNextSlide() {
  slides.forEach(img => img.style.opacity = 0);
  if (currentSlide >= slides.length) currentSlide = 0;
  slides[currentSlide].style.opacity = 1;
  currentSlide++;
  if (currentSlide >= slides.length) {
    setTimeout(() => fadeOutSlideshow(), delay);
  } else {
    setTimeout(showNextSlide, delay);
  }
}

function fadeOutSlideshow() {
  slideshow.style.transition = "opacity 2s ease";
  slideshow.style.opacity = 0;
  setTimeout(() => {
    slideshow.style.display = "none";
    slideshow.style.opacity = 1;
    showEnding();
  }, 2000);
}

// ===== BURUNG + SEE YOU =====
function showEnding() {
  const bird = document.getElementById("bird");
  const text = document.getElementById("seeYouText");

  bird.style.animation = "flyAcross 10s ease-in-out forwards";
  bird.style.opacity = 1;

  setTimeout(() => {
    text.style.animation = "slideInCenter 5s ease-out forwards, glowPulse 2s ease-in-out infinite 5s";
    text.style.opacity = 1;

    setTimeout(() => {
      text.style.animation = "fadeOutText 2s forwards";
      setTimeout(() => {
        text.style.display = "none";
        showWavingHand();
      }, 2000);
    }, 5000);
  }, 4000);
}

// ===== TANGAN MELAMBAI =====
function showWavingHand() {
  const hand = document.createElement("div");
  hand.textContent = "ğŸ‘‹ğŸ»";
  hand.style.position = "absolute";
  hand.style.fontSize = "80px";
  hand.style.opacity = "0";
  hand.style.animation = "fadeInWave 1.5s ease-out forwards, waveHand 1s ease-in-out infinite 2s";
  document.body.appendChild(hand);

  setTimeout(() => {
    document.body.innerHTML = "";
    document.body.style.display = "flex";
    document.body.style.justifyContent = "center";
    document.body.style.alignItems = "center";
  }, 7000);
}
</script>

</body>
</html>